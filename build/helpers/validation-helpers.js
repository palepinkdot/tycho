"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.oneRequired=exports.minLength=exports.url=exports.email=exports.required=void 0;const tslib_1=require("tslib"),react_intl_1=require("react-intl"),isEmail_1=(0,tslib_1.__importDefault)(require("validator/lib/isEmail")),url_helpers_1=require("./url-helpers"),messages=(0,react_intl_1.defineMessages)({required:{id:"validation.required",defaultMessage:"{field} is required"},email:{id:"validation.email",defaultMessage:"{field} is not valid"},url:{id:"validation.url",defaultMessage:"{field} is not a valid URL"},minLength:{id:"validation.minLength",defaultMessage:"{field} should be at least {length} characters long"},oneRequired:{id:"validation.oneRequired",defaultMessage:"At least one is required"}});function required({field:e}){return[""!==e.value.trim(),window.ferdi.intl.formatMessage(messages.required,{field:e.label})]}function email({field:e}){const i=e.value.trim();return[(0,isEmail_1.default)(i),window.ferdi.intl.formatMessage(messages.email,{field:e.label})]}function url({field:e}){const i=e.value.trim();let r=!0;return""!==i&&(r=i.startsWith("http")?(0,url_helpers_1.isValidExternalURL)(i):!!i.startsWith("file")&&(0,url_helpers_1.isValidFileUrl)(i)),[r,window.ferdi.intl.formatMessage(messages.url,{field:e.label})]}function minLength(e){return({field:i})=>{let r=!0;return i.touched&&(r=i.value.length>=e),[r,window.ferdi.intl.formatMessage(messages.minLength,{field:i.label,length:e})]}}function oneRequired(e){return({field:i,form:r})=>{const l=e.filter((e=>""===r.$(e).value));return[e.length!==l.length,window.ferdi.intl.formatMessage(messages.required,{field:i.label})]}}exports.required=required,exports.email=email,exports.url=url,exports.minLength=minLength,exports.oneRequired=oneRequired;