"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendAuthRequest=exports.prepareAuthRequest=void 0;const tslib_1=require("tslib"),mobx_localstorage_1=(0,tslib_1.__importDefault)(require("mobx-localstorage")),environment_remote_1=require("../../environment-remote"),prepareAuthRequest=(e={method:"GET"},t=!0)=>{const r=Object.assign(e,{mode:"cors",headers:{"Content-Type":"application/json","X-Franz-Source":"desktop","X-Franz-Version":environment_remote_1.ferdiVersion,"X-Franz-platform":process.platform,"X-Franz-Timezone-Offset":(new Date).getTimezoneOffset(),"X-Franz-System-Locale":environment_remote_1.ferdiLocale,...e.headers}});return t&&(r.headers.Authorization=`Bearer ${mobx_localstorage_1.default.getItem("authToken")}`),r};exports.prepareAuthRequest=prepareAuthRequest;const sendAuthRequest=(e,t,r)=>window.fetch(e,(0,exports.prepareAuthRequest)(t,r));exports.sendAuthRequest=sendAuthRequest;