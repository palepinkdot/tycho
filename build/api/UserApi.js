"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const password_helpers_1=require("../helpers/password-helpers");class UserApi{constructor(e,s){this.server=void 0,this.local=void 0,this.server=e,this.local=s}login(e,s){return this.server.login(e,(0,password_helpers_1.hash)(s))}logout(){return this}signup(e){return Object.assign(e,{password:(0,password_helpers_1.hash)(e.password)}),this.server.signup(e)}password(e){return this.server.retrievePassword(e)}invite(e){return this.server.inviteUser(e)}getInfo(){return this.server.userInfo()}updateInfo(e){const s=e;return s.oldPassword&&s.newPassword&&(s.oldPassword=(0,password_helpers_1.hash)(s.oldPassword),s.newPassword=(0,password_helpers_1.hash)(s.newPassword)),this.server.updateUserInfo(s)}getLegacyServices(){return this.server.getLegacyServices()}delete(){return this.server.deleteAccount()}}exports.default=UserApi;