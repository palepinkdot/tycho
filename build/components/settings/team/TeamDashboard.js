"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_reactIntl=require("react-intl"),_reactTooltip=_interopRequireDefault(require("react-tooltip")),_reactJss=_interopRequireDefault(require("react-jss")),_classnames=_interopRequireDefault(require("classnames")),_Loader=_interopRequireDefault(require("../../ui/Loader")),_Button=_interopRequireDefault(require("../../ui/Button")),_Infobox=_interopRequireDefault(require("../../ui/Infobox")),_config=require("../../../config"),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const messages=(0,_reactIntl.defineMessages)({headline:{id:"settings.team.headline",defaultMessage:[{type:0,value:"Team"}]},contentHeadline:{id:"settings.team.contentHeadline",defaultMessage:[{type:0,value:"Franz Team Management"}]},intro:{id:"settings.team.intro",defaultMessage:[{type:0,value:"You are currently using Franz Servers, which is why you have access to Team Management."}]},copy:{id:"settings.team.copy",defaultMessage:[{type:0,value:"Franz's Team Management allows you to manage Franz Subscriptions for multiple users. Please keep in mind that having a Franz Premium subscription will give you no advantages in using Ferdi: The only reason you still have access to Team Management is so you can manage your legacy Franz Teams and so that you don't loose any functionality in managing your account."}]},manageButton:{id:"settings.team.manageAction",defaultMessage:[{type:0,value:"Manage your Team on meetfranz.com"}]},teamsUnavailable:{id:"settings.team.teamsUnavailable",defaultMessage:[{type:0,value:"Teams are unavailable"}]},teamsUnavailableInfo:{id:"settings.team.teamsUnavailableInfo",defaultMessage:[{type:0,value:"Teams are currently only available when using the Franz Server and after paying for Franz Professional. Please change your server to https://api.franzinfra.com to use teams."}]}}),styles={cta:{margin:[40,"auto"],height:"auto"},container:{display:"flex",flexDirection:"column",height:"auto","@media(min-width: 800px)":{flexDirection:"row"}},content:{height:"auto",order:1,"@media(min-width: 800px)":{order:0}},image:{display:"block",height:150,order:0,margin:[0,"auto",40,"auto"],"@media(min-width: 800px)":{marginLeft:40,order:1}},headline:{marginBottom:0},headlineWithSpacing:{marginBottom:"inherit"},buttonContainer:{display:"flex",height:"auto"}};class TeamDashboard extends _react.Component{render(){const{isLoading:e,userInfoRequestFailed:a,retryUserInfoRequest:s,openTeamManagement:t,classes:n,server:i}=this.props,{intl:r}=this.props;return i===_config.LIVE_FRANZ_API?(0,_jsxRuntime.jsxs)("div",{className:"settings__main",children:[(0,_jsxRuntime.jsx)("div",{className:"settings__header",children:(0,_jsxRuntime.jsx)("span",{className:"settings__header-item",children:r.formatMessage(messages.headline)})}),(0,_jsxRuntime.jsxs)("div",{className:"settings__body",children:[e&&(0,_jsxRuntime.jsx)(_Loader.default,{}),!e&&a&&(0,_jsxRuntime.jsx)(_Infobox.default,{icon:"alert",type:"danger",ctaLabel:r.formatMessage(messages.tryReloadUserInfoRequest),ctaLoading:e,ctaOnClick:s,children:r.formatMessage(messages.userInfoRequestFailed)}),!a&&!e&&(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsx)("h1",{className:(0,_classnames.default)({[n.headline]:!0,[n.headlineWithSpacing]:!0}),children:r.formatMessage(messages.contentHeadline)}),(0,_jsxRuntime.jsxs)("div",{className:n.container,children:[(0,_jsxRuntime.jsxs)("div",{className:n.content,children:[(0,_jsxRuntime.jsx)("p",{children:r.formatMessage(messages.intro)}),(0,_jsxRuntime.jsx)("p",{children:r.formatMessage(messages.copy)})]}),(0,_jsxRuntime.jsx)("img",{className:n.image,src:"https://cdn.franzinfra.com/announcements/assets/teams.png",alt:"Ferdi for Teams"})]}),(0,_jsxRuntime.jsx)("div",{className:n.buttonContainer,children:(0,_jsxRuntime.jsx)(_Button.default,{label:r.formatMessage(messages.manageButton),onClick:t,className:n.cta})})]})]}),(0,_jsxRuntime.jsx)(_reactTooltip.default,{place:"right",type:"dark",effect:"solid"})]}):(0,_jsxRuntime.jsxs)("div",{className:"settings__main",children:[(0,_jsxRuntime.jsx)("div",{className:"settings__header",children:(0,_jsxRuntime.jsx)("span",{className:"settings__header-item",children:r.formatMessage(messages.headline)})}),(0,_jsxRuntime.jsxs)("div",{className:"settings__body",children:[(0,_jsxRuntime.jsx)("h1",{className:n.headline,children:r.formatMessage(messages.teamsUnavailable)}),(0,_jsxRuntime.jsx)("p",{className:"settings__message",style:{borderTop:0,marginTop:0},children:r.formatMessage(messages.teamsUnavailableInfo)})]})]})}}TeamDashboard.propTypes={isLoading:_propTypes.default.bool.isRequired,userInfoRequestFailed:_propTypes.default.bool.isRequired,retryUserInfoRequest:_propTypes.default.func.isRequired,openTeamManagement:_propTypes.default.func.isRequired,classes:_propTypes.default.object.isRequired,server:_propTypes.default.string.isRequired};var _default=(0,_reactIntl.injectIntl)((0,_reactJss.default)(styles,{injectTheme:!0})((0,_mobxReact.observer)(TeamDashboard)));exports.default=_default;