"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_reactJss=_interopRequireDefault(require("react-jss")),_reactIntl=require("react-intl"),_js=require("@mdi/js"),_config=require("../../../config"),_icon=require("../../ui/icon"),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const messages=(0,_reactIntl.defineMessages)({text:{id:"connectionLostBanner.message",defaultMessage:[{type:0,value:"Oh no! Ferdi lost the connection to "},{type:1,value:"name"},{type:0,value:"."}]},moreInformation:{id:"connectionLostBanner.informationLink",defaultMessage:[{type:0,value:"What happened?"}]},cta:{id:"connectionLostBanner.cta",defaultMessage:[{type:0,value:"Reload Service"}]}});let buttonTransition="none";window&&window.matchMedia("(prefers-reduced-motion: no-preference)")&&(buttonTransition="opacity 0.25s");const styles=e=>({root:{background:e.colorBackground,borderRadius:e.borderRadius,position:"absolute",zIndex:300,height:50,display:"flex",flexDirection:"row",alignItems:"center",bottom:10,right:10,justifyContent:"center",padding:10,fontSize:12},link:{display:"inline-flex",opacity:.7},button:{transition:buttonTransition,color:e.colorText,border:[1,"solid",e.colorText],borderRadius:e.borderRadiusSmall,padding:4,fontSize:12,marginLeft:15,"&:hover":{opacity:.8}},icon:{marginRight:10,fill:e.styleTypes.danger.accent}});class ConnectionLostBanner extends _react.Component{render(){const{classes:e,name:t,reload:n}=this.props,{intl:o}=this.props;return(0,_jsxRuntime.jsxs)("div",{className:e.root,children:[(0,_jsxRuntime.jsx)(_icon.Icon,{icon:_js.mdiAlert,className:e.icon}),(0,_jsxRuntime.jsxs)("p",{children:[o.formatMessage(messages.text,{name:t}),(0,_jsxRuntime.jsx)("br",{}),(0,_jsxRuntime.jsx)("a",{href:`${_config.LIVE_API_FERDI_WEBSITE}/support#what-does-franz-lost-the-connection-to-service-mean`,className:e.link,children:o.formatMessage(messages.moreInformation)})]}),(0,_jsxRuntime.jsx)("button",{type:"button",className:e.button,onClick:n,children:o.formatMessage(messages.cta)})]})}}ConnectionLostBanner.propTypes={classes:_propTypes.default.object.isRequired,name:_propTypes.default.string.isRequired,reload:_propTypes.default.func.isRequired};var _default=(0,_reactIntl.injectIntl)((0,_reactJss.default)(styles)((0,_mobxReact.observer)(ConnectionLostBanner)));exports.default=_default;