"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Infobox=void 0;const tslib_1=require("tslib"),jsx_runtime_1=require("react/jsx-runtime"),js_1=require("@mdi/js"),classnames_1=(0,tslib_1.__importDefault)(require("classnames")),react_1=require("react"),react_jss_1=(0,tslib_1.__importDefault)(require("react-jss")),icon_1=require("../icon"),buttonStyles=s=>{const e={};return Object.keys(s.styleTypes).map((t=>{Object.assign(e,{[t]:{background:s.styleTypes[t].accent,color:s.styleTypes[t].contrast,border:s.styleTypes[t].border,"& svg":{fill:s.styleTypes[t].contrast}}})})),e},infoBoxTransition="none",ctaTransition="none",styles=s=>({wrapper:{position:"relative",overflow:"hidden",height:"auto"},infobox:{alignItems:"center",borderRadius:s.borderRadiusSmall,display:"flex",height:"auto",padding:"15px 20px",top:0,transition:"none",opacity:1,marginBottom:30},dismissing:{marginTop:-100,opacity:0},content:{flex:1},icon:{marginRight:10},close:{color:e=>s.styleTypes[e.type?e.type:"primary"].contrast,marginRight:-5,border:0,background:"none"},cta:{borderColor:e=>s.styleTypes[e.type?e.type:"primary"].contrast,borderRadius:s.borderRadiusSmall,borderStyle:"solid",borderWidth:1,background:"none",color:e=>s.styleTypes[e.type?e.type:"primary"].contrast,marginLeft:15,padding:[4,10],fontSize:s.uiFontSize,transition:"none","&:hover":{opacity:.6}},...buttonStyles(s)});class InfoboxComponent extends react_1.Component{constructor(...s){super(...s),this.state={isDismissing:!1,dismissed:!1}}dismiss(){const{onDismiss:s}=this.props;this.setState({isDismissing:!0}),s&&s(),setTimeout((()=>{this.setState({dismissed:!0})}),3e3)}componentWillUnmount(){const{onUnmount:s}=this.props;s&&s()}render(){const{classes:s,children:e,icon:t,type:i,ctaLabel:o,ctaOnClick:n,dismissable:r,className:a}=this.props,{isDismissing:c,dismissed:l}=this.state;return l?null:(0,jsx_runtime_1.jsx)("div",{className:(0,classnames_1.default)({[s.wrapper]:!0,[`${a}`]:a}),children:(0,jsx_runtime_1.jsxs)("div",{className:(0,classnames_1.default)({[s.infobox]:!0,[s[`${i}`]]:i,[s.dismissing]:c}),"data-type":"franz-infobox",children:[t&&(0,jsx_runtime_1.jsx)(icon_1.Icon,{icon:t,className:s.icon},void 0),(0,jsx_runtime_1.jsx)("div",{className:s.content,children:e},void 0),o&&(0,jsx_runtime_1.jsx)("button",{className:s.cta,onClick:n,type:"button",children:o},void 0),r&&(0,jsx_runtime_1.jsx)("button",{type:"button",onClick:this.dismiss.bind(this),className:s.close,children:(0,jsx_runtime_1.jsx)(icon_1.Icon,{icon:js_1.mdiClose},void 0)},void 0)]},void 0)},void 0)}}InfoboxComponent.defaultProps={type:"primary",dismissable:!1,ctaOnClick:()=>{},onDismiss:()=>{},ctaLabel:"",ctaLoading:!1},exports.Infobox=(0,react_jss_1.default)(styles,{injectTheme:!0})(InfoboxComponent);