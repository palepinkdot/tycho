"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_classnames=_interopRequireDefault(require("classnames")),_reactLoader=_interopRequireDefault(require("react-loader")),_reactIntl=require("react-intl"),_js=require("@mdi/js"),_icon=require("../ui/icon"),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const icons={"checkbox-marked-circle-outline":_js.mdiCheckboxMarkedCircleOutline,alert:_js.mdiAlert},messages=(0,_reactIntl.defineMessages)({dismiss:{id:"infobox.dismiss",defaultMessage:[{type:0,value:"Dismiss"}]}});class Infobox extends _react.Component{constructor(...e){super(...e),this.state={dismissed:!1}}componentDidMount(){const{onSeen:e}=this.props;e&&e()}render(){const{children:e,icon:s,type:t,ctaLabel:i,ctaLoading:n,ctaOnClick:o,dismissable:a,onDismiss:r}=this.props,{intl:l}=this.props;return this.state.dismissed?null:(0,_jsxRuntime.jsxs)("div",{className:(0,_classnames.default)({infobox:!0,[`infobox--${t}`]:t,"infobox--default":!t}),children:[s&&(0,_jsxRuntime.jsx)(_icon.Icon,{icon:icons[s]}),(0,_jsxRuntime.jsx)("div",{className:"infobox__content",children:e}),i&&(0,_jsxRuntime.jsxs)("button",{className:"infobox__cta",onClick:o,type:"button",children:[(0,_jsxRuntime.jsx)(_reactLoader.default,{loaded:!n,lines:10,scale:.3,color:"#FFF",component:"span"}),i]}),a&&(0,_jsxRuntime.jsx)("button",{type:"button",onClick:()=>{this.setState({dismissed:!0}),r&&r()},className:"infobox__delete","aria-label":l.formatMessage(messages.dismiss),children:(0,_jsxRuntime.jsx)(_icon.Icon,{icon:_js.mdiClose})})]})}}Infobox.propTypes={children:_propTypes.default.any.isRequired,icon:_propTypes.default.string,type:_propTypes.default.string,ctaOnClick:_propTypes.default.func,ctaLabel:_propTypes.default.string,ctaLoading:_propTypes.default.bool,dismissable:_propTypes.default.bool,onDismiss:_propTypes.default.func,onSeen:_propTypes.default.func},Infobox.defaultProps={icon:"",type:"primary",dismissable:!1,ctaOnClick:()=>null,ctaLabel:"",ctaLoading:!1,onDismiss:()=>null,onSeen:()=>null};var _default=(0,_reactIntl.injectIntl)((0,_mobxReact.observer)(Infobox));exports.default=_default;