"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_mobxReactForm=require("mobx-react-form"),_classnames=_interopRequireDefault(require("classnames")),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class Select extends _react.Component{constructor(e){super(e),this.element=(0,_react.createRef)()}multipleChange(){const e=this.element.current,l=[],r=e&&e.options;for(const e of r)e.selected&&l.push(e.value||e.text);const{field:s}=this.props;s.value=l}render(){const{field:e,className:l,showLabel:r,disabled:s,multiple:a}=this.props;let t=e.value;return a&&(t="string"==typeof e.value&&"["===e.value.slice(0,1)?JSON.parse(e.value):"object"==typeof e.value?e.value:[e.value]),(0,_jsxRuntime.jsxs)("div",{className:(0,_classnames.default)({"franz-form__field":!0,"has-error":e.error,"is-disabled":s,[`${l}`]:l}),children:[e.label&&r&&(0,_jsxRuntime.jsx)("label",{className:"franz-form__label",htmlFor:e.name,children:e.label}),(0,_jsxRuntime.jsx)("select",{onChange:a?e=>this.multipleChange(e):e.onChange,id:e.id,defaultValue:t,className:"franz-form__select",disabled:e.disabled||s,multiple:a,ref:this.element,children:e.options.map((e=>(0,_jsxRuntime.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)))}),e.error&&(0,_jsxRuntime.jsx)("div",{className:"franz-form__error",children:e.error})]})}}Select.propTypes={field:_propTypes.default.instanceOf(_mobxReactForm.Field).isRequired,className:_propTypes.default.string,showLabel:_propTypes.default.bool,disabled:_propTypes.default.bool,multiple:_propTypes.default.bool},Select.defaultProps={className:null,showLabel:!0,disabled:!1,multiple:!1};var _default=(0,_mobxReact.observer)(Select);exports.default=_default;