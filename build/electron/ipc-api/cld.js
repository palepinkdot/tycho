"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),electron_1=require("electron"),cld_1=(0,tslib_1.__importDefault)(require("cld")),debug=require("debug")("Ferdi:ipcApi:cld");exports.default=async()=>{electron_1.ipcMain.handle("detect-language",(async(e,{sample:l})=>{if(!cld_1.default)return null;try{const e=await cld_1.default.detect(l);if(debug("Checking language","probability",e.languages),e.reliable)return debug("Language detected reliably, setting spellchecker language to",e.languages[0].code),e.languages[0].code}catch(e){return console.error(e),null}}))};