"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),mobx_react_1=require("mobx-react"),ErrorBoundary_1=(0,tslib_1.__importDefault)(require("../../../components/util/ErrorBoundary")),EditWorkspaceForm_1=(0,tslib_1.__importDefault)(require("../components/EditWorkspaceForm")),Workspace_1=(0,tslib_1.__importDefault)(require("../models/Workspace")),index_1=require("../index"),api_1=require("../api");class EditWorkspaceScreen extends react_1.Component{constructor(...e){super(...e),this.onDelete=()=>{const{workspaceBeingEdited:e}=index_1.workspaceStore,{actions:r}=this.props;if(!e)return null;r.workspaces.delete({workspace:e})},this.onSave=e=>{const{workspaceBeingEdited:r}=index_1.workspaceStore,{actions:t}=this.props,s=new Workspace_1.default({saving:!0,...r,...e});t.workspaces.update({workspace:s})}}render(){const{workspaceBeingEdited:e}=index_1.workspaceStore,{stores:r}=this.props;return e?(0,jsx_runtime_1.jsx)(ErrorBoundary_1.default,{children:(0,jsx_runtime_1.jsx)(EditWorkspaceForm_1.default,{workspace:e,services:r.services.all,onDelete:this.onDelete,onSave:this.onSave,updateWorkspaceRequest:api_1.updateWorkspaceRequest,deleteWorkspaceRequest:api_1.deleteWorkspaceRequest},void 0)},void 0):null}}exports.default=(0,mobx_react_1.inject)("stores","actions")((0,mobx_react_1.observer)(EditWorkspaceScreen));