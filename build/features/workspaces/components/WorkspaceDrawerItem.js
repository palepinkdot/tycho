"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _remote=require("@electron/remote"),_react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_reactJss=_interopRequireDefault(require("react-jss")),_classnames=_interopRequireDefault(require("classnames")),_reactIntl=require("react-intl"),_environment=require("../../../environment"),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const messages=(0,_reactIntl.defineMessages)({noServicesAddedYet:{id:"workspaceDrawer.item.noServicesAddedYet",defaultMessage:[{type:0,value:"No services added yet"}]},contextMenuEdit:{id:"workspaceDrawer.item.contextMenuEdit",defaultMessage:[{type:0,value:"edit"}]}});let itemTransition="none";window&&window.matchMedia("(prefers-reduced-motion: no-preference)")&&(itemTransition="background-color 300ms ease-out");const styles=e=>({item:{height:"67px",padding:`15px ${e.workspaces.drawer.padding}px`,borderBottom:`1px solid ${e.workspaces.drawer.listItem.border}`,transition:itemTransition,"&:first-child":{borderTop:`1px solid ${e.workspaces.drawer.listItem.border}`},"&:hover":{backgroundColor:e.workspaces.drawer.listItem.hoverBackground}},isActiveItem:{backgroundColor:e.workspaces.drawer.listItem.activeBackground,"&:hover":{backgroundColor:e.workspaces.drawer.listItem.activeBackground}},name:{marginTop:"4px",color:e.workspaces.drawer.listItem.name.color},activeName:{color:e.workspaces.drawer.listItem.name.activeColor},services:{display:"block",fontSize:"11px",marginTop:"5px",color:e.workspaces.drawer.listItem.services.color,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"15px"},activeServices:{color:e.workspaces.drawer.listItem.services.active}});class WorkspaceDrawerItem extends _react.Component{render(){const{classes:e,isActive:r,name:t,onClick:s,onContextMenuEditClick:a,services:o,shortcutIndex:i}=this.props,{intl:n}=this.props,c=[{label:t,enabled:!1},{type:"separator"},{label:n.formatMessage(messages.contextMenuEdit),click:a}],l=_remote.Menu.buildFromTemplate(c);return(0,_jsxRuntime.jsxs)("div",{className:(0,_classnames.default)([e.item,r?e.isActiveItem:null]),onClick:s,onContextMenu:()=>a&&l.popup(),"data-tip":""+(i<=9?`(${(0,_environment.cmdOrCtrlShortcutKey)(!1)}+${(0,_environment.altKey)(!1)}+${i})`:""),children:[(0,_jsxRuntime.jsx)("span",{className:(0,_classnames.default)([e.name,r?e.activeName:null]),children:t}),(0,_jsxRuntime.jsx)("span",{className:(0,_classnames.default)([e.services,r?e.activeServices:null]),children:o.length>0?o.join(", "):n.formatMessage(messages.noServicesAddedYet)})]})}}WorkspaceDrawerItem.propTypes={classes:_propTypes.default.object.isRequired,isActive:_propTypes.default.bool.isRequired,name:_propTypes.default.string.isRequired,onClick:_propTypes.default.func.isRequired,services:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,onContextMenuEditClick:_propTypes.default.func,shortcutIndex:_propTypes.default.number.isRequired},WorkspaceDrawerItem.defaultProps={onContextMenuEditClick:null};var _default=(0,_reactIntl.injectIntl)((0,_reactJss.default)(styles,{injectTheme:!0})((0,_mobxReact.observer)(WorkspaceDrawerItem)));exports.default=_default;