"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_reactJss=_interopRequireDefault(require("react-jss")),_classnames=_interopRequireDefault(require("classnames")),_reactIntl=require("react-intl"),_index=require("../../../components/ui/loader/index"),_index2=require("../index"),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const messages=(0,_reactIntl.defineMessages)({switchingTo:{id:"workspaces.switchingIndicator.switchingTo",defaultMessage:[{type:0,value:"Switching to"}]}});let wrapperTransition="none";window&&window.matchMedia("(prefers-reduced-motion: no-preference)")&&(wrapperTransition="width 0.5s ease");const styles=e=>({wrapper:{display:"flex",alignItems:"flex-start",position:"absolute",transition:wrapperTransition,width:`calc(100% - ${e.workspaces.drawer.width}px)`,marginTop:"20px"},component:{background:"rgba(20, 20, 20, 0.4)",padding:"10px 20px",display:"flex",width:"auto",height:"auto",margin:[0,"auto"],borderRadius:6,alignItems:"center",zIndex:200},spinner:{width:40,height:40,marginRight:10},message:{fontSize:16,whiteSpace:"nowrap",color:e.colorAppLoaderSpinner}});class WorkspaceSwitchingIndicator extends _react.Component{render(){const{classes:e,theme:r}=this.props,{intl:s}=this.props,{isSwitchingWorkspace:t,nextWorkspace:i}=_index2.workspaceStore;if(!t)return null;const a=i?i.name:"All services";return(0,_jsxRuntime.jsx)("div",{className:(0,_classnames.default)([e.wrapper]),children:(0,_jsxRuntime.jsxs)("div",{className:e.component,children:[(0,_jsxRuntime.jsx)(_index.Loader,{className:e.spinner,color:r.workspaces.switchingIndicator.spinnerColor}),(0,_jsxRuntime.jsx)("p",{className:e.message,children:`${s.formatMessage(messages.switchingTo)} ${a}`})]})})}}WorkspaceSwitchingIndicator.propTypes={classes:_propTypes.default.object.isRequired,theme:_propTypes.default.object.isRequired};var _default=(0,_reactIntl.injectIntl)((0,_reactJss.default)(styles,{injectTheme:!0})((0,_mobxReact.observer)(WorkspaceSwitchingIndicator)));exports.default=_default;