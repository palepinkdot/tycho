"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_reactJss=_interopRequireDefault(require("react-jss")),_reactIntl=require("react-intl"),_reactTooltip=_interopRequireDefault(require("react-tooltip")),_js=require("@mdi/js"),_headline=require("../../../components/ui/headline"),_icon=require("../../../components/ui/icon"),_WorkspaceDrawerItem=_interopRequireDefault(require("./WorkspaceDrawerItem")),_actions=require("../actions"),_index=require("../index"),_api=require("../api"),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const messages=(0,_reactIntl.defineMessages)({headline:{id:"workspaceDrawer.headline",defaultMessage:[{type:0,value:"Workspaces"}]},allServices:{id:"workspaceDrawer.allServices",defaultMessage:[{type:0,value:"All services"}]},workspacesSettingsTooltip:{id:"workspaceDrawer.workspacesSettingsTooltip",defaultMessage:[{type:0,value:"Edit workspaces settings"}]},workspaceFeatureInfo:{id:"workspaceDrawer.workspaceFeatureInfo",defaultMessage:[{type:8,value:"p",children:[{type:0,value:"Ferdi Workspaces let you focus on whatâ€™s important right now. Set up different sets of services and easily switch between them at any time."}]},{type:8,value:"p",children:[{type:0,value:"You decide which services you need when and where, so we can help you stay on top of your game - or easily switch off from work whenever you want."}]}]},addNewWorkspaceLabel:{id:"workspaceDrawer.addNewWorkspaceLabel",defaultMessage:[{type:0,value:"Add new workspace"}]}}),styles=e=>({drawer:{background:e.workspaces.drawer.background,width:`${e.workspaces.drawer.width}px`,display:"flex",flexDirection:"column"},headline:{fontSize:"24px",marginTop:"38px",marginBottom:"25px",marginLeft:e.workspaces.drawer.padding},workspacesSettingsButton:{float:"right",marginRight:e.workspaces.drawer.padding,marginTop:"2px"},workspacesSettingsButtonIcon:{fill:e.workspaces.drawer.buttons.color,"&:hover":{fill:e.workspaces.drawer.buttons.hoverColor}},workspaces:{height:"auto",overflowY:"auto"},addNewWorkspaceLabel:{height:"auto",color:e.workspaces.drawer.buttons.color,margin:[40,0],textAlign:"center","& > svg":{fill:e.workspaces.drawer.buttons.color},"& > span":{fontSize:"13px",marginLeft:10,position:"relative",top:-3},"&:hover":{color:e.workspaces.drawer.buttons.hoverColor,"& > svg":{fill:e.workspaces.drawer.buttons.hoverColor}}}});class WorkspaceDrawer extends _react.Component{componentDidMount(){_reactTooltip.default.rebuild();try{_api.getUserWorkspacesRequest.execute()}catch(e){console.log(e)}}render(){const{classes:e,getServicesForWorkspace:s}=this.props,{intl:r}=this.props,{activeWorkspace:a,isSwitchingWorkspace:t,nextWorkspace:o,workspaces:i}=_index.workspaceStore,c=t?o:a;return(0,_jsxRuntime.jsxs)("div",{className:`${e.drawer} workspaces-drawer`,children:[(0,_jsxRuntime.jsxs)(_headline.H1,{className:e.headline,children:[r.formatMessage(messages.headline),(0,_jsxRuntime.jsx)("span",{className:e.workspacesSettingsButton,onClick:()=>{_actions.workspaceActions.openWorkspaceSettings()},"data-tip":`${r.formatMessage(messages.workspacesSettingsTooltip)}`,children:(0,_jsxRuntime.jsx)(_icon.Icon,{icon:_js.mdiCog,size:1.5,className:e.workspacesSettingsButtonIcon})})]}),(0,_jsxRuntime.jsxs)("div",{className:e.workspaces,children:[(0,_jsxRuntime.jsx)(_WorkspaceDrawerItem.default,{name:r.formatMessage(messages.allServices),onClick:()=>{_actions.workspaceActions.deactivate(),_actions.workspaceActions.toggleWorkspaceDrawer()},services:s(null),isActive:null==c,shortcutIndex:0}),i.map(((e,r)=>(0,_jsxRuntime.jsx)(_WorkspaceDrawerItem.default,{name:e.name,isActive:c===e,onClick:()=>{c!==e&&(_actions.workspaceActions.activate({workspace:e}),_actions.workspaceActions.toggleWorkspaceDrawer())},onContextMenuEditClick:()=>_actions.workspaceActions.edit({workspace:e}),services:s(e),shortcutIndex:r+1},e.id))),(0,_jsxRuntime.jsxs)("div",{className:e.addNewWorkspaceLabel,onClick:()=>{_actions.workspaceActions.openWorkspaceSettings()},children:[(0,_jsxRuntime.jsx)(_icon.Icon,{icon:_js.mdiPlusBox,className:e.workspacesSettingsButtonIcon}),(0,_jsxRuntime.jsx)("span",{children:r.formatMessage(messages.addNewWorkspaceLabel)})]})]}),(0,_jsxRuntime.jsx)(_reactTooltip.default,{place:"right",type:"dark",effect:"solid"})]})}}WorkspaceDrawer.propTypes={classes:_propTypes.default.object.isRequired,getServicesForWorkspace:_propTypes.default.func.isRequired};var _default=(0,_reactIntl.injectIntl)((0,_reactJss.default)(styles,{injectTheme:!0})((0,_mobxReact.observer)(WorkspaceDrawer)));exports.default=_default;