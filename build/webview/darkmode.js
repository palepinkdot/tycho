"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDarkModeStyleInjected=exports.removeDarkModeStyle=exports.injectDarkModeStyle=exports.darkModeStyleExists=void 0;const path_1=require("path"),fs_extra_1=require("fs-extra"),debug=require("debug")("Ferdi:DarkMode"),chars=[..."abcdefghijklmnopqrstuvwxyz"],ID=[...Array.from({length:20})].map((()=>chars[Math.trunc(Math.random()*chars.length)])).join("");function darkModeFilePath(e){return(0,path_1.join)(e,"darkmode.css")}function darkModeStyleExists(e){return(0,fs_extra_1.pathExistsSync)(darkModeFilePath(e))}function injectDarkModeStyle(e){if(darkModeStyleExists(e)){const t=(0,fs_extra_1.readFileSync)(darkModeFilePath(e)),r=document.createElement("style");r.id=ID,r.innerHTML=t.toString(),document.querySelector("head")?.appendChild(r),debug("Injected Dark Mode style with ID",ID)}}function removeDarkModeStyle(){const e=document.querySelector(`#${ID}`);e&&(e.remove(),debug("Removed Dark Mode Style with ID",ID))}function isDarkModeStyleInjected(){return!!document.querySelector(`#${ID}`)}exports.darkModeStyleExists=darkModeStyleExists,exports.injectDarkModeStyle=injectDarkModeStyle,exports.removeDarkModeStyle=removeDarkModeStyle,exports.isDarkModeStyleInjected=isDarkModeStyleInjected;