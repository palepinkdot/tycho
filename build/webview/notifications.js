"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.notificationsClassDefinition=exports.NotificationsHandler=void 0;const electron_1=require("electron"),uuid_1=require("uuid"),debug=require("debug")("Ferdi:Notifications");class NotificationsHandler{constructor(){this.onNotify=i=>i}displayNotification(i,n){return new Promise((t=>{debug("New notification",i,n);const o=(0,uuid_1.v1)();electron_1.ipcRenderer.sendToHost("notification",this.onNotify({title:i,options:n,notificationId:o})),electron_1.ipcRenderer.once(`notification-onclick:${o}`,(()=>{t(!0)}))}))}}exports.NotificationsHandler=NotificationsHandler,exports.notificationsClassDefinition="(() => {\n  class Notification {\n    static permission = 'granted';\n\n    constructor(title = '', options = {}) {\n      this.title = title;\n      this.options = options;\n      window.ferdi.displayNotification(title, options)\n        .then(() => {\n          if (typeof (this.onClick) === 'function') {\n            this.onClick();\n          }\n        });\n    }\n\n    static requestPermission(cb = null) {\n      if (!cb) {\n        return new Promise((resolve) => {\n          resolve(Notification.permission);\n        });\n      }\n\n      if (typeof (cb) === 'function') {\n        return cb(Notification.permission);\n      }\n\n      return Notification.permission;\n    }\n\n    onNotify(data) {\n      return data;\n    }\n\n    onClick() {}\n\n    close() {}\n  }\n\n  window.Notification = Notification;\n})();";