"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_mobxReact=require("mobx-react"),_mobxReactRouter=require("mobx-react-router"),_UserStore=_interopRequireDefault(require("../../stores/UserStore")),_ServicesStore=_interopRequireDefault(require("../../stores/ServicesStore")),_ServicesDashboard=_interopRequireDefault(require("../../components/settings/services/ServicesDashboard")),_ErrorBoundary=_interopRequireDefault(require("../../components/util/ErrorBoundary")),_jsxRuntime=require("react/jsx-runtime");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class ServicesScreen extends _react.Component{componentWillUnmount(){this.props.actions.service.resetFilter(),this.props.actions.service.resetStatus()}deleteService(){this.props.actions.service.deleteService(),this.props.stores.services.resetFilter()}render(){const{user:e,services:r,router:t}=this.props.stores,{toggleService:s,filter:i,resetFilter:o}=this.props.actions.service,u=r.allServicesRequest.isExecuting;let a=r.all;return null!==r.filterNeedle&&(a=r.filtered),(0,_jsxRuntime.jsx)(_ErrorBoundary.default,{children:(0,_jsxRuntime.jsx)(_ServicesDashboard.default,{user:e.data,services:a,status:r.actionStatus,deleteService:()=>this.deleteService(),toggleService:s,isLoading:u,filterServices:i,resetFilter:o,goTo:t.push,servicesRequestFailed:r.allServicesRequest.wasExecuted&&r.allServicesRequest.isError,retryServicesRequest:()=>r.allServicesRequest.reload(),searchNeedle:r.filterNeedle})})}}ServicesScreen.propTypes={stores:_propTypes.default.shape({user:_propTypes.default.instanceOf(_UserStore.default).isRequired,services:_propTypes.default.instanceOf(_ServicesStore.default).isRequired,router:_propTypes.default.instanceOf(_mobxReactRouter.RouterStore).isRequired}).isRequired,actions:_propTypes.default.shape({service:_propTypes.default.instanceOf(_ServicesStore.default).isRequired}).isRequired};var _default=(0,_mobxReact.inject)("stores","actions")((0,_mobxReact.observer)(ServicesScreen));exports.default=_default;