"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.aboutAppDetails=exports.TODOS_FRONTEND=exports.WEBSITE=exports.WS_API=exports.API_VERSION=exports.API=exports.useLiveAPI=exports.userDataRecipesPath=exports.userDataPath=exports.isDevMode=exports.ferdiLocale=exports.ferdiVersion=exports.app=void 0;const tslib_1=require("tslib"),path_1=require("path"),os_name_1=(0,tslib_1.__importDefault)(require("os-name")),electron_util_1=require("./electron-util"),config_1=require("./config"),environment_1=require("./environment"),buildInfo=(0,tslib_1.__importStar)(require("./buildInfo.json"));function userDataPath(...e){return(0,path_1.join)(exports.app.getPath("userData"),...[e].flat())}function userDataRecipesPath(...e){return userDataPath("recipes",...[e].flat())}exports.app=electron_util_1.api.app,exports.ferdiVersion=exports.app.getVersion(),exports.ferdiLocale=exports.app.getLocale(),null!=process.env.FERDI_APPDATA_DIR?(exports.app.setPath("appData",process.env.FERDI_APPDATA_DIR),exports.app.setPath("userData",exports.app.getPath("appData"))):null!=process.env.PORTABLE_EXECUTABLE_DIR?(exports.app.setPath("appData",(0,path_1.join)(process.env.PORTABLE_EXECUTABLE_DIR,`${exports.app.name}AppData`)),exports.app.setPath("userData",(0,path_1.join)(exports.app.getPath("appData"),`${exports.app.name}AppData`))):environment_1.isWindows&&null!=process.env.APPDATA&&(exports.app.setPath("appData",process.env.APPDATA),exports.app.setPath("userData",(0,path_1.join)(exports.app.getPath("appData"),exports.app.name))),exports.isDevMode=void 0!==process.env.ELECTRON_IS_DEV?1===Number.parseInt(process.env.ELECTRON_IS_DEV,10):!exports.app.isPackaged,exports.isDevMode&&exports.app.setPath("userData",(0,path_1.join)(exports.app.getPath("appData"),`${exports.app.name}Dev`)),exports.userDataPath=userDataPath,exports.userDataRecipesPath=userDataRecipesPath;const useLocalAPI=process.env.USE_LOCAL_API;let api,wsApi,web,todos;function aboutAppDetails(){return[`Version: ${exports.ferdiVersion}`,`Electron: ${environment_1.electronVersion}`,`Chrome: ${environment_1.chromeVersion}`,`Node.js: ${environment_1.nodeVersion}`,`Platform: ${(0,os_name_1.default)()}`,`Arch: ${environment_1.osArch}`,`Build date: ${new Date(Number(buildInfo.timestamp))}`,`Git SHA: ${buildInfo.gitHashShort}`,`Git branch: ${buildInfo.gitBranch}`].join("\n")}exports.useLiveAPI=process.env.USE_LIVE_API,!exports.isDevMode||exports.isDevMode&&exports.useLiveAPI?(api=config_1.LIVE_FERDI_API,wsApi=config_1.LIVE_WS_API,web=config_1.LIVE_API_FERDI_WEBSITE,todos=config_1.PRODUCTION_TODOS_FRONTEND_URL):exports.isDevMode&&useLocalAPI?(api=config_1.LOCAL_API,wsApi=config_1.LOCAL_WS_API,web=config_1.LOCAL_API_WEBSITE,todos=config_1.LOCAL_TODOS_FRONTEND_URL):(api=config_1.DEV_FRANZ_API,wsApi=config_1.DEV_WS_API,web=config_1.DEV_API_FRANZ_WEBSITE,todos=config_1.PRODUCTION_TODOS_FRONTEND_URL),exports.API=api,exports.API_VERSION="v1",exports.WS_API=wsApi,exports.WEBSITE=web,exports.TODOS_FRONTEND=todos,exports.aboutAppDetails=aboutAppDetails;