"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.enforceMacOSAppLocation=void 0;const environment_1=require("./environment"),environment_remote_1=require("./environment-remote"),electron_util_1=require("./electron-util");function enforceMacOSAppLocation(){if(environment_remote_1.isDevMode||!environment_1.isMac||electron_util_1.api.app.isInApplicationsFolder())return;1!==electron_util_1.api.dialog.showMessageBoxSync({type:"error",message:"Move to Applications folder?",detail:"Ferdi must live in the Applications folder to be able to run correctly.",buttons:["Move to Applications folder","Quit Ferdi"],defaultId:0,cancelId:1})?electron_util_1.api.app.moveToApplicationsFolder({conflictHandler:e=>("existsAndRunning"===e&&(electron_util_1.api.dialog.showMessageBoxSync({type:"error",message:"Another version of Ferdi is currently running. Quit it, then launch this version of the app again.",buttons:["OK"]}),electron_util_1.api.app.quit()),!0)}):electron_util_1.api.app.quit()}exports.enforceMacOSAppLocation=enforceMacOSAppLocation;